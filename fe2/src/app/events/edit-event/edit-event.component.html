<div class="content-wrapper">
   <br>
   <!-- <app-alerts></app-alerts> -->
   <div class="content">
      <div class="box box-primary">
        <div class="container ">
          <h1>Cabecera Consultoria</h1>
          <form (ngSubmit)="saveEventTop()" #cmrEventTop="ngForm" class="">
           
            <div class="form-group col-sm-8">
              <label for="name" class="control-label">Titulo Cabecera</label>
              <input type="text" pattern="[a-zA-ZÑ-ñÁ-áÉ-éÍ-íÓ-óÚ-ú0-9]{3,20}[ ]{0,1}[a-zA-ZÑ-ñÁ-áÉ-éÍ-íÓ-óÚ-ú0-9]{0,20}[ ]{0,1}[a-zA-Z]{0,20}"
                class="form-control" id="title" [(ngModel)]="page_event.line1" name="title" #title="ngModel" required />
            </div>
            <div class="form-group col-sm-8">
              <label for="name" class="control-label">Descripcion</label>
              <input type="text" pattern="[[a-zA-Z .-_:;¿?¡!',0-9Ñ-ñÁ-áÉ-éÍ-íÓ-óÚ-ú0-9]{3,600}"
                class="form-control" id="line" [(ngModel)]="page_event.line2" name="line" #line="ngModel" required />
            </div>
           
            <button type="submit" class="btn btn-success">Guardar</button>
          </form>
        </div>
      </div>
    </div>



   <div class="content">
      <div class="box box-primary">
         <div class="container ">
            <div>
               <h1> Editar Evento</h1>
               <br>
               <form (ngSubmit)="save()" #editEvent="ngForm" class="">
                  <div class="form-group col-sm-8">
                     <label for="name" class="control-label">Nombre del Evento</label>
                     <!-- pattern="[a-zA-Z]{3,20}[ ]{0,1}[a-zA-Z]{0,20}[ ]{0,1}[a-zA-Z]{0,20}" -->
                     <input type="text" pattern="[a-zA-ZÑ-ñÁ-áÉ-éÍ-íÓ-óÚ-ú0-9]{3,20}[ ]{0,1}[a-zA-ZÑ-ñÁ-áÉ-éÍ-íÓ-óÚ-ú0-9]{0,20}[ ]{0,1}[a-zA-Z]{0,20}" class="form-control" id="name" [(ngModel)]="model.name" name="name" #name="ngModel" required />
                     <span *ngIf="!name.valid && name.touched && model.name == ''" class="text-alert">
                        *Nombre del Evento requerido o nombre invalido.
                        </span>
                        <span *ngIf="!name?.pattern && name.dirty && name.touched && !name.valid && model.name != '' && model.name.length>43" class="text-alert">
                        *Nombre del Evento inválido, excedió el límite de 42 caracteres.
                        </span>
                        <span *ngIf="!name?.pattern && name.dirty && name.touched && !name.valid && model.name != '' && model.name.length<3" class="text-alert">
                        *Nombre del Evento, tiene menos de 3 caracteres.
                        </span>
                     <!--<div [hidden]="name?.valid || name?.pristine" class="text-alert">
                             kjkn
                         </div>-->
                  </div>
                  <div class="form-group col-sm-8">
                     <label for="descripcion" class=" control-label">Descripción</label>
                     <input type="text" pattern="[a-zA-Z .-_:;¿?¡!',0-9Ñ-ñÁ-áÉ-éÍ-íÓ-óÚ-ú]{3,280}" class="form-control" id="descripcion" [(ngModel)]="model.description" name="descripcion"
                        #descripcion="ngModel" required>
                     <span *ngIf="!descripcion.valid && descripcion.touched && model.description == ''" class="text-alert">
                        *Descripción de Evento requerido.
                     </span>
                     <span *ngIf="descripcion.dirty && descripcion.touched && !descripcion.valid && model.description != '' && model.description.length>150 " class="text-alert">
                        *Detalle del Evento inválido, excedió el límite de 150 caracteres.
                        <br></span>
                         <span *ngIf="!descripcion?.pattern && descripcion.dirty && descripcion.touched && !descripcion.valid && model.description != ''&& model.description.length<3 " class="text-alert">
                        *Detalle del Evento inválido, tiene menos de 3 caracteres.
                        <br></span>
                    
                  </div>
                  <div class="form-group col-sm-8">
                        <div class="form-group col-sm-6">
                          <label for="">La Fecha Original es :{{model.date_start|date}}</label>
                                <label data-error="wrong" style="text-align:left" data-success="right" for="form8">
                                        <i class="fa fa-calendar prefix grey-text"></i> Inicio</label>
                                <input type="date" pattern="[2]{1}[0]{1}[1-9]{1}[0-9]{1}-[0-9]{2}-[0-9]{2}" id="form34" class="form-control validate"  [(ngModel)]="model.date_start" name="fecha" required #date>
                        </div>
                        <!-- <div class="form-group col-sm-4">
                                <label for="total" style="text-align:right">Total cupos</label>
                                <input type="number" pattern="[0-9]{0,3}" class="form-control" id="total" [(ngModel)]="model.total" name="total" #total="ngModel"
                                        required>
                                <span *ngIf="!total.valid && total.touched" class="text-alert">
                                        *Total cupo de evento inválido.
                                </span>
                        </div> -->
                  </div>
                  <div class="form-group col-sm-8">
                     <label for="nomPrograma">Programa</label>
                     <select class="form-control" id="nomPrograma" required [(ngModel)]="model.program_id" name="nomPrograma" #nomPrograma="ngModel">
                        <option value="" hidden>Seleccionar un Programa</option>
                        <option *ngFor="let programa of programs" [value]="programa._id">{{programa.name}}</option>
                     </select>
                    
                  </div>
                  <div class="form-group col-sm-8">
                        <label for="nomSucursal">Sucursal</label>
                        <select class="form-control" id="nomSucursal" required [(ngModel)]="model.offices" name="nomSucursal" #nomSucursal="ngModel">
                                <option value="" hidden>Seleccionar una Sucursal</option>
                                <option *ngFor="let s of sucursales" [value]="s._id">{{s.name}}</option>
                        </select>
                  </div>
                  <br>




                  <div class="form-group col-sm-8" style="text-align:center ">
                     <button type="submit" class="btn btn-success" [disabled]="!editEvent.form.valid">Guardar</button>
                     <button type="button" class="btn btn-danger" (click)="cancelar()">Cancelar</button>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>





   <div class="content">
      <div class="box box-primary">
        <div class="container ">
          <section class="content-header">
            <h1>
              Facilitadores
              <small>Vigentes</small>
            </h1>
          </section>
          <section class="content col-sm-8">
           
              <div class="form-group col-sm-8">
                  <label for="addFacilitador">Facilitadores</label>
                  <select class="form-control" id="addFacilitador" required [(ngModel)]="nuevoFacilitador" name="addFacilitador" #addFacilitador="ngModel">
                     <option value="" hidden>Seleccionar un Programa</option>
                     <option *ngFor="let facilitador of listaFacilitadores" [value]="facilitador._id">{{facilitador.name}}</option>
                  </select>
                  <br>
                 <button type="" class="btn btn-primary" (click)="addFacilitadorButton()">Agregar</button>
                  
                 
               </div>
        
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Nombre</th>
                 
                  <th >Ajustes</th>
                 
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let facilitador of listaFacilitadoresEvento">
                  <td>{{ facilitador.name }}</td>
                
                  <td>
                    <a class="btn btn-danger" (click)="deleteFacilitador(facilitador._id)">Eliminar</a>
                  </td>
                
                </tr>
              </tbody>
            </table>
        
          </section>
        </div>
      </div>

</div>